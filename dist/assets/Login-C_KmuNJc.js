import{c as l,E as a,l as e,K as b,r as u,Q as g,M as h,k,x as _,R as c,S as M,U as V,f as x,z as m,V as B,p as C,H as f,q as L}from"./vendor-Cn5j0SEu.js";import{u as E,r as j,a as A}from"./index-Bmyn27aN.js";import{r as N}from"./EyeIcon-B8jtdIG5.js";import{r as S}from"./InformationCircleIcon-BbkVrAyu.js";import"./excel-C9Ruqv6W.js";function D(v,p){return a(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"})])}const H={class:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8"},I={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},K={class:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10"},T={class:"mt-1"},U={class:"mt-1 relative"},$=["type"],q={class:"flex items-center justify-between"},z={class:"flex items-center"},P=["disabled"],R={key:0,class:"flex items-center"},G={key:1},Q={key:0,class:"mt-4 bg-red-50 border border-red-200 rounded-md p-3"},F={class:"flex"},J={class:"flex-shrink-0"},O={class:"ml-3"},W={class:"mt-1 text-sm text-red-700"},X={class:"mt-6 bg-blue-50 border border-blue-200 rounded-md p-3"},Y={class:"flex"},Z={class:"flex-shrink-0"},oe={__name:"Login",setup(v){const p=b(),w=E(),i=u(!1),n=u(!1),d=u(""),t=g({email:"",password:"",rememberMe:!1}),y=async()=>{i.value=!0,d.value="";try{const{data:o,error:s}=await A.signIn(t.email,t.password);if(s)throw new Error(s.message);if(!o.user)throw new Error("Login gagal");w.success("Berhasil masuk!"),p.push("/")}catch(o){d.value=o.message==="Invalid login credentials"?"Email atau password salah":o.message}finally{i.value=!1}};return(o,s)=>(a(),l("div",H,[s[11]||(s[11]=h('<div class="sm:mx-auto sm:w-full sm:max-w-md"><div class="flex justify-center"><div class="w-16 h-16 bg-primary-600 rounded-xl flex items-center justify-center"><span class="text-white font-bold text-2xl">K</span></div></div><h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900"> Kas Kelas 1B </h2><p class="mt-2 text-center text-sm text-gray-600"> SD Islam Al Husna </p></div>',1)),e("div",I,[e("div",K,[e("form",{onSubmit:_(y,["prevent"]),class:"space-y-6"},[e("div",null,[s[4]||(s[4]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700"}," Email ",-1)),e("div",T,[c(e("input",{id:"email","onUpdate:modelValue":s[0]||(s[0]=r=>t.email=r),type:"email",autocomplete:"email",required:"",class:"input-field",placeholder:"Masukkan email"},null,512),[[M,t.email]])])]),e("div",null,[s[5]||(s[5]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700"}," Password ",-1)),e("div",U,[c(e("input",{id:"password","onUpdate:modelValue":s[1]||(s[1]=r=>t.password=r),type:n.value?"text":"password",autocomplete:"current-password",required:"",class:"input-field pr-10",placeholder:"Masukkan password"},null,8,$),[[V,t.password]]),e("button",{type:"button",onClick:s[2]||(s[2]=r=>n.value=!n.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center"},[n.value?(a(),x(m(D),{key:1,class:"h-5 w-5 text-gray-400"})):(a(),x(m(N),{key:0,class:"h-5 w-5 text-gray-400"}))])])]),e("div",q,[e("div",z,[c(e("input",{id:"remember-me","onUpdate:modelValue":s[3]||(s[3]=r=>t.rememberMe=r),type:"checkbox",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"},null,512),[[B,t.rememberMe]]),s[6]||(s[6]=e("label",{for:"remember-me",class:"ml-2 block text-sm text-gray-900"}," Ingat saya ",-1))]),s[7]||(s[7]=e("div",{class:"text-sm"},[e("a",{href:"#",class:"font-medium text-primary-600 hover:text-primary-500"}," Lupa password? ")],-1))]),e("div",null,[e("button",{type:"submit",disabled:i.value,class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed"},[i.value?(a(),l("span",R,s[8]||(s[8]=[e("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),C(" Masuk... ",-1)]))):(a(),l("span",G,"Masuk"))],8,P)])],32),d.value?(a(),l("div",Q,[e("div",F,[e("div",J,[f(m(j),{class:"h-5 w-5 text-red-400"})]),e("div",O,[s[9]||(s[9]=e("h3",{class:"text-sm font-medium text-red-800"}," Login Gagal ",-1)),e("div",W,L(d.value),1)])])])):k("",!0),e("div",X,[e("div",Y,[e("div",Z,[f(m(S),{class:"h-5 w-5 text-blue-400"})]),s[10]||(s[10]=e("div",{class:"ml-3"},[e("h3",{class:"text-sm font-medium text-blue-800"}," Login dengan Akun Terdaftar "),e("div",{class:"mt-1 text-sm text-blue-700"},[e("p",null,"Masukkan email dan password yang sudah terdaftar di sistem."),e("p",{class:"mt-1"},"Hubungi administrator untuk membuat akun baru.")])],-1))])])])])]))}};export{oe as default};
